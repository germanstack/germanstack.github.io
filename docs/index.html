<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="shortcut icon" href="../assets/images/favicon.png" type="image/x-icon">

    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">

    <!--For Plugins external css-->
    <link rel="stylesheet" href="../assets/css/plugins.css" />
    <link rel="stylesheet" href="../assets/css/roboto-webfont.css" />
    <!--Theme custom css -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- Custom styles for this template -->
    <link href="css/simple-sidebar.css" rel="stylesheet">
    <!--Theme Responsive css-->
    <link rel="stylesheet" href="../assets/css/responsive.css" />

    <link rel="stylesheet" href="../assets/css/main.css">
    <script src="../assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>


    <title>GERMAN Docs</title>

</head>

<body>

    <div id="wrapper" class="toggled">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <img src="/assets/images/favicon.png" height="80px" alt="">
                    <a href="/">
                        ERMAN STACK
                    </a>
                </li>
                <li><a href="#overview">Overview</a></li>
                <li>
                    <a href="#nodejs" id="node-toggler">Node.js</a>
                    <ul id="node-menu" class="d-none course-menu">
                        <li>
                            <a href="#introduction">Introduction</a>
                        </li>
                        <li>
                            <a href="#installation">Installation</a>
                        </li>
                        <li>
                            <a href="#setting-up-node-server">Setting Up Node Server</a>
                        </li>
                        <li>
                            <a href="#package-json">Package.json</a>
                        </li>
                        <li>
                            <a href="#modules">Module</a>
                        </li>
                        <li>
                            <a href="#package-vs-modules">Package vs. Module</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#" id="express-toggler">Express</a>
                    <ul id="express-menu" class="d-none course-menu">
                        <li>
                            <a href="#express-introduction">Introduction</a>
                        </li>
                        <li>
                            <a href="#express-installation">Installation</a>
                        </li>
                        <li>
                            <a href="#node-modules">node-modules</a>
                        </li>
                        <li>
                            <a href="#setting-up-express">Setting Up Express</a>
                        </li>
                        <li>
                            <a href="#express-routing">Routing (HTTP Request Method)</a>
                        </li>
                        <li>
                            <a href="#express-middleware">Middleware Functions</a>
                        </li>
                        <li>
                            <a href="#express-error-handling">Express Error Handling</a>
                        </li>
                        <li>
                            <a href="#summary">Summary</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#" id="mongodb-toggler">MongoDB</a>
                    <ul id="mongodb-menu" class="d-none course-menu">
                        <li>
                            <a href="#mongodb-introduction">Introduction</a>
                        </li>
                        <li>
                            <a href="#mongodb-installation">MongoDB Installation</a>
                        </li>
                        <li>
                            <a href="#mongodb-documents">MongoDB Documents</a>
                        </li>
                        <li>
                            <a href="#using-mongodb-mongoose">CRUD Operation</a>
                        </li>
                        <li>
                            <a href="#mongoose-schema">Schemas</a>
                        </li>
                        <li>
                            <a href="#mongoose-schema-types">SchemaTypes</a>
                        </li>
                        <li>
                            <a href="#mongoose-models">Models</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#">React</a>
                </li>
                <li>
                    <a href="#">GraphQL</a>
                </li>
                <li>
                    <a href="#">Apollo</a>
                </li>
                <li>
                    <a href="#" id="side-toggle">Hide</a>
                </li>
            </ul>

        </div>

        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div class="toggler">
            <a href="#menu-toggle" class="btn" id="menu-toggle"><i class="fa fa-close"></i></a>
        </div>
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="text-area">
                    <div id="overview">
                        <h1><i class="fa fa-link"></i>Overview</h1>
                        <p>Using this guide assumes you already have basic knowledge of HTML, CSS, and JavaScript ES6.
                            This guide was rigorously designed to enhance the learning experience of the reader. </p>
                        <p>The documentation was designed with the original documentation of each framework, library,
                            and technology as its manuscript. You might find some definitions to be completely the same
                            with the original documentation, but there is no better way to teach and learn other than
                            from the original source: the creators of the framework, and technology. </p>
                        <p>Some challenges have been placed within the coursework to help you think out of the box.
                            Depicting real-world scenario, where are you are might have been given a task by your
                            product team lead, and you have to complete them: make commits and push to the GitHub repo
                            before getting the next task. </p>
                        <p>Reading this with no intentions of being an enrolled GERMANSTACK learner? Then you have no
                            issue completing the task, but it’s advised you to do to you give a working application at
                            the end of the full docs. For enrolled GERMANSTACK Learners, your GitHub instructor must
                            have added to a team and have given you some tips on using GitHub and its workflow. </p>
                        <p>While using this documentation/coursework, you will also notice <b>Breakout Sessions</b> in the mix
                            of this coursework. The <b>Breakout Session</b> are moments where the author goes off-point to
                            discuss some vital information to help you understand better. The <b>Breakout Session</b> can be
                            skipped, but it’s also advised you take out some minutes to read thoroughly.</p>
                        <p>Access has been granted to enrolled GERMANSTACK learner to the GitHub repos with resource
                            and working codes. We encourage you to register for the next cohort if you are not already.
                            Your feedbacks are highly anticipated, good, bad, or ugly, or even spell checks as you read
                            through. Send an email to <a href="mailto:germanstack@outlook.com">germanstack@outlook.com</a> with your feedback. Happy Hacking!</p>
                    </div>
                    <div id="introduction">
                        <h1><i class="fa fa-link"></i> Introduction</h1>
                        <p>
                            Node.js is an asynchronous event driven JavaScript runtime, designed to build scalable
                            network
                            applications.
                        </p>
                        <p>
                            As an event driven JavaScript runtime, Node takes the event model a bit further in similar
                            design
                            to, and influenced by systems like Ruby’s Event Machine or Python’s Twisted. It presents an
                            event
                            loop as a runtime construct instead of as a library.
                        </p>
                        <p>
                            There is always a blocking call to start the event-loop. Typically, behavior is defined
                            through
                            callbacks at the beginning of the script and at the end, starts a server through a blocking
                            call.
                            Unlike Node, they are no such <code>start-the-event-loop</code> call. Node simply enters
                            the
                            event loop after
                            executing the input script, and exist the event loop when they are no more callbacks to
                            perform.
                        </p>
                        <p>
                            Node 👉 Event-Loop 👉 Executes Input Scripts 👉 <code>if</code>(More scripts) Execute
                            Scripts <code>else</code> Leave.
                        </p>
                        <p>
                            This behavior is a lot similar to browser JavaScript – where the event loop is hidden from
                            the user. Node is designed with streaming and low latency in mind, making HTTP a
                            first-class citizen in
                            Node.
                        </p>
                    </div>
                    <div id="installation">
                        <h1><i class="fa fa-link"></i> Installation</h1>
                        <p>
                            Node is very easy to install. Head over to <a href="http://nodejs.org">https://nodejs.org</a>
                            and find the LTS (Long Term
                            Support) compatible Node.js for your OS.
                            Check if Node.js has been successfully installed:
                            <ol type="i">
                                <li>Open up terminal</li>
                                <li>Run <code>node --version</code> (make sure you’re the latest stable version of
                                    Node.js)
                                    Check for existing Node Package Manager <code>npm</code>
                                </li>
                            </ol>
                        </p>

                        <p id="npm-installation">
                            Usually installation on Windows Machine comes with npm JavaScript runtime package manager.
                            You can look up installation on <a href="http://npmjs.org">https://npmjs.org</a> to see
                            installation steps for your
                            machine. Installation of <code>npm</code> is very necessary when building Node.js
                            applications.
                        </p>
                        <p id="node-projects">
                            After installation perform the following:
                            <ol type="i">
                                <li>
                                    Create a directory for all Node.js projects (this is not really necessary as node
                                    is
                                    installed globally and can run from anyway on your machine) to keep you Node.js
                                    project in one place.
                                </li>
                                <li>
                                    Create a directory for the project <code>project 101</code>
                                </li>
                                <li>
                                    Create an <code>index.js</code>
                                </li>
                                <li>
                                    Write the following simple, regular JavaScript:
                                </li>
                                <br>
                                <div class="code-area">
                                    <code>
                                        <comment>//init a variable</comment>
                                        <br>
                                        <const>let</const> counter = <num>0</num>;
                                        <br>
                                        <comment>//set interval function</comment>
                                        <br>
                                        <fnc>setInterval</fnc>(<fnc>() => </fnc> {
                                        <br>
                                        <props>console</props>.<fnc>log</fnc>(counter);
                                        <br>
                                        counter++;
                                        <br>
                                        }, <comment>/*set interval*/</comment><num>1000</num>);
                                        <br>
                                    </code>
                                </div>
                                <br>
                                <li>Launch the terminal, navigate to the project directory and run <code>node index.js</code></li>
                                <li>Hit <code>CMD + C</code> or <code>CTRL + C</code> to end the process</li>
                            </ol>
                        </p>
                        <p>
                            Notice the script is the regular day-to-day JavaScript nothing too fancy and nothing
                            different
                            from what you already know. Although, Node.js has its little new syntax but nothing
                            different from codes you already know.
                        </p>
                    </div>
                    <div id="setting-up-node-server">
                        <h1><i class="fa fa-link"></i> Setting Up Node.js Server</h1>
                        <p> Let’s initialize a Node App and get ready to build a server. NB: Feel free to delete <code>project 101</code>
                        </p>
                        <ol type="i">
                            <li>
                                Launch the terminal and navigate to the Node.js project folder created earlier in this
                                doc.
                            </li>
                            <li>
                                Create a folder <code>node-000</code>
                            </li>
                            <li>
                                Run <code>npm init</code>
                            </li>
                            <li>
                                Follow up the guides to create the <code>package.json</code>
                            </li>
                            <div class="img-holder">
                                <img src="./doc-image/terminal.PNG" alt="">
                                <figcaption>Fig 1.0 <code>npm init</code> in terminal</figcaption>
                            </div>
                            <li>
                                And <code>package.json</code> should look like this:
                            </li>
                            <div class="img-holder">
                                <img src="./doc-image/package-json.PNG" alt="">
                                <figcaption>Fig 1.1 <code>package.json</code></figcaption>
                            </div>
                        </ol>

                        <p>
                            Congratulations you just initialized your first Node.js App 🚀🎉🎉🎉</p>
                        <p>
                            A server is very easy to get initialized. No xampp, or wampp, or any of that sort is
                            required in
                            Node. Some few lines of codes, with no much configuration and you have a perfect Node.js
                            server
                            running at a port of your choice. Let’s follow the step for creating a server:
                            <ol type="i">
                                <li>
                                    Create an <code>index.js</code> in the <code>node-000</code> project folder.
                                </li>
                                <li>
                                    Add the following scripts to create your server:
                                </li>
                                <div class="code-area">
                                    <code>
                                        <const>const</const> http = <fnc>require</fnc>(<string>"http"</string>);
                                        <br>
                                        <comment>//set a hostname</comment>
                                        <br>
                                        <const>const</const> hostname = <string>'127.0.0.1'</string>
                                        <br>
                                        <comment>//set a port</comment>
                                        <br>
                                        <const>const</const> port = <num>3000</num>;
                                        <br>
                                        <const>const</const> server = http.<fnc>createServer</fnc>(<fnc>(</fnc>req, res <fnc>) => </fnc>{
                                            <br>
                                            <comment><i>//set responses code to 200</i></comment>
                                            <br>
                                            res.statusCode = <num>200</num>;
                                            <br>
                                            res.<fnc>setHeader</fnc>(<string>'Content-Type', 'text/plain'</string>);
                                            <br>
                                            <comment><i>//send a respond</i></comment>
                                            <br>
                                            res.<fnc>end</fnc>(<string>'Hello World<num>\n</num>'</string>);
                                            <br>
                                        });
                                        <br>
                                        <comment><i>//strat up server</i></comment>
                                        <br>
                                        server.<fnc>listen</fnc>(port, hostname, <fnc>() => </fnc>{
                                            <br>
                                            <comment><i>//log server running to the console</i></comment>
                                            <br>
                                            <props>console</props>.<fnc>log</fnc>(<string>`Server running at https://</string><temp>${</temp>hostname<temp>}</temp><string>:</string> <temp>${</temp>port<temp>}</temp><string>`</string>);
                                            <br>

                                        });
                                    </code>
                                </div>
                                <li>Run <code>node index</code> in the terminal</li>
                                <li>Open the browser and navigate to the <code>http://127.0.0.1:3000.</code> </li>
                            </ol>
                        </p>
                    </div>
                    <div id="package-json">
                        <h1><i class="fa fa-link"></i> package.json</h1>
                        <p><code>package.json</code> is a extremely important when building Node Apps. It must be an
                            actual JSON not a JavaScript object literal.</p>
                        <p>First, let’s make some modification to <code>package.json</code> to have a start command:</p>
                        <ol type="i">
                            <li>Locate scripts and modify the code:</li>
                            <div class="img-holder"><img src="./doc-image/scripts.PNG" alt=""></div>
                            <li>Run <code>npm start</code> in the terminal</li>
                            <div class="img-holder"><img src="./doc-image/npm-start.PNG" alt=""></div>
                            <li>Awesome you've done great!</li>
                        </ol>
                        <p>We have bunch of objects in the <code>pacakge.json</code> file. Let's spend some time
                            understanding we have in there.</p>
                        <p>
                            <code>name:</code> The name and version together form an identifier that is assumed to be
                            completely
                            unique. If you plan on publishing a package, the name and version are the most important
                            things in the package.json and are required. In a case where you don’t plan on publishing a
                            package, the name and version becomes optional.
                        </p>
                        <ol type="i">
                            <h4>Some rules:</h4>
                            <li>The name must be less than or equal to 214 characters. This includes the scope for
                                scoped packages. </li>
                            <li>The name can’t start with a dot or an underscore </li>
                            <li>New packages must not have uppercase letters in the name.</li>
                            <li>The name ends up being part of a URL, an argument on the command line, and a folder
                                name. Therefore, the name can’t contain any non-URL-safe characters.</li>
                        </ol>
                        <ol type="i">
                            <h4>Some tips:</h4>
                            <li>Don’t use the same name as a core Node module e.g. path, http, and fs. </li>
                            <li>Don’t put “js” or “node” in the name. It’s assumed that it’s js, since you’re writing
                                package.json file, and you can specify the engine using the “engines” field.</li>
                            <li>The name will probably be passed as an argument to require (), so it should be
                                something short, but also reasonably descriptive. </li>
                        </ol>
                        <p>
                            <code>version:</code> Version must be parseable by node-server, which bundled with npm as a
                            dependency.
                        </p>
                        <p>
                            <code>description:</code>Put a description in it, It’s a string. This helps people discover
                            your package, as it’s listed in npm search.
                        </p>
                        <p>
                            <code>keyword:</code>It’s an array of strings. This helps people discover your package as
                            it’s listed in npm search.
                        </p>
                        <p>
                            <code>homepage:</code>The url to the project homepage.
                        </p>
                        <p>
                            <code>bug:</code>The url to your project’s issue tracket and/or the email address to which
                            issues should be reported. These are helpful for people who encounter issues with your
                            package. You can either specify both values i.e. email and a url or both. If a url is
                            provide, it will be used by the npm bugs command. If you want to specify only a url, a
                            simple string is just fine.
                        </p>
                        <p>
                            <code>license:</code> You should specify a license for your package so that people know how
                            they are permitted to use it, and any restriction you’re placing on it.
                        </p>
                        <p>
                            <code>scripts:</code> The scripts property is a dictionary containing scripts command that
                            are run at various times in he lifecycle of your package. The key is the lifecycle event,
                            and the value is the command to run at that point.
                        </p>
                        <p>
                            <code>dependencies:</code> Dependencies are specified in a simple object that maps a
                            package name to a version range. The version range is a string which has one or more
                            space-separated descriptors.
                        </p>
                    </div>
                    <div id="modules">
                        <h1><i class="fa fa-link"></i> Modules</h1>
                        <p>You can consider modules to be the same as JavaScript libraries. More like some functions
                            you’d love to have in your application.</p>
                        <h2>Built-in Modules</h2>
                        <p>Node.js has a set of built-in modules which you can use without any further installation,
                            with package managers like npm or yarn.</p>
                        <h2>Include Modules</h2>
                        <p>To include a module, use the <code>require()</code> function with the name of the module as
                            an argument in the parenthesis.
                        </p>
                        <div class="code-area">
                            <code>
                                    var http = require(‘https’);
                                </code>
                        </div>
                        <p>
                            The HTTP module is now available for use in your application. Remember when we created the
                            server, and required http? Yes. You can also import other built-in modules and installed
                            modules from packages as we’ll see in the later chapters of this book.
                        </p>
                    </div>
                    <div id="package-vs-modules">
                        <h1><i class="fa fa-link"></i> Package vs. Module</h1>
                        <p>
                            A package is a bundle of more than one module grouped together (packaged) in an
                            application.
                            In the early part of this course, we initialized a Node app and spent some time in the
                            <code>package.json</code>, we discussed publishing with name and version. Some Node apps
                            can also be
                            considered a package. We won’t be covering how to build node packages in this edition
                            maybe later courses will. But understand a bundle of module makes up a package.
                            A module is a reusable JavaScript file in the application, that must have been exported and
                            made available to other files in your application.

                        </p>
                        <p>Now we've gotten a good introduction let's go ahead in the next course and build a <code>german-todo-app.</code></p>
                    </div>
                    <!---Node Ends Here-->
                    <!---Express Starts Here-->
                    <div id="express-introduction">
                        <h1><i class="fa fa-link"></i> Express Introduction</h1>
                        <p>Express is a minimal and flexible Node.js web application framework that provides a robust
                            set of features for web and mobile applications.
                        </p>
                        <p>
                            RESTful API for this application will be developed using Express. Express has a large
                            library of HTTP utility and middleware at your disposal, creating a production level API
                            using express is always fun, quick, and easy.
                        </p>
                        <p>
                            With Express’ provision of thin layer fundamental web features, your application
                            performance is not something to really worry about. Express doesn’t affect or obscure any
                            Node.js feature you will be using.
                        </p>
                    </div>
                    <div id="express-installation">
                        <h1><i class="fa fa-link"></i> Installing Express</h1>
                        <p>
                            In the next few pages of this course, we’ll be building a <code>german-todo-app</code>. But
                            to do that,
                            we need to install some packages (or dependencies NB: packages and dependencies will be
                            used interchangbly), like <code>express</code>. Installation process is easy,
                            and straight
                            forward that you have nothing to worry about. We’ll be using a <a href="#npm-installation">Package
                                Manager</a> mentioned earlier in this course. Make sure you have the package manager
                            installed. You can check if the package manager exists by performing the following
                            commands:
                        </p>
                        <ol type="i">
                            <li>Run <code>npm –version</code></li>
                            <li>You should see the version of <code>npm</code> running on your machine. </li>
                        </ol>
                        <p>
                            Let’s proceed to installing express. Remember the folder we created earlier for all <a href="#node-projects">Node.js
                                Projects?</a>
                            Awesome! Navigate to the folder, and create a folder for this project <code>german-todo-app</code>
                            Done? Okay! Let’s get to the proper installation and codes:
                        </p>
                        <ol type="i">
                            <li>Run <code>npm init</code> in <code>german-todo-app</code> directory from the terminal.</li>
                            <li>Run <code>npm install expres</code></li>
                        </ol>
                        <p>
                            Express has been successfully installed. By default, with version npm 5.0+ npm
                            install adds the module to the dependencies list in the package.json file; with earlier
                            versions of npm, you must specify the –save option explicitly.
                        </p>
                        <ol>
                            <li>Open up <code>package.json</code> and locate <code>dependencies:</code>, you will
                                notice express has
                                been added as a dependency for this application. Which is cool. Earlier we also looked
                                at
                                and package.json and discussed some keys in the JSON, <a href="#package-json">read up
                                    here</a>. </li>

                            <li>
                                Also notice a folder has been created <code>node-modules</code>. DO NOT Tampere with
                                this folder.
                                Don’t try editing any package in there. Messing around with the <code>node-modules</code>
                                folder can
                                make your application act really funny, and throw some unexpected behavior.
                            </li>
                        </ol>
                        <p>Breakout Session ⏰⏰<code>node-modules</code>. </p>
                    </div>
                    <div id="node-modules">
                        <h1><i class="fa fa-link"></i> <code>node-modules</code></h1>
                        <p>Remember when we did an overview of <a href="#package-vs-modules">Modules and Packages</a>?
                            Awesome! Node.js saves application
                            dependencies in the node-modules folder dynamically; whenever a npm install or any package
                            manager runs an installation successfully, the package is automatically saved to the
                            node-modules folder. This makes it a lot easier to use the package on one single require()
                            call. The package and all of its modules becomes available for use. </p>
                    </div>
                    <div id="setting-up-express">
                        <h1><i class="fa fa-link"></i> Setting Up Express</h1>
                        <p>We’ve seen how we created a Node.js server with already existing Node.js modules. But let’s
                            also looking at doing this with Express:
                        </p>
                        <ol type="i">
                            <li>Create an index.js in the root directory of your project. </li>
                            <li>Add the following code</li>
                            <div class="code-area">
                                <code>
                                        <p><const>const</const> express = <fnc>require</fnc>(<string>'epress'</string>);</p>
                                        <p><comment><i>//init express app</i></comment></p>
                                        <p><const>const</const> app = <fnc>express</fnc>();</p>
                                        <p><comment><i>//set a port</i></comment></p>
                                        <p><const>const</const> port = <num>4000</num>;</p>
                                        <p><comment><i>//set a hostname</i></comment></p>
                                        <p><const>const</const> hostname = <string>'127.0.0.1'</string>;</p>
                                        <p>app.<fnc>get</fnc>(<string>'/'</string>, <fnc>(</fnc>req, res <fnc>) => </fnc> {</p>
                                        <p class="inner">res.<fnc>send</fnc>(<string>'Hello World'</string>);</p>
                                        <p>});</p>
                                        <p>app.<fnc>listen</fnc>(port, <fnc>() => </fnc>{</p>
                                        <p class="inner"><props>console</props>.<fnc>log</fnc>(<string>`Server running at https://</string><temp>${</temp>hostname<temp>}</temp><string>:</string> <temp>${</temp>port<temp>}</temp><string>`</string>);</p>
                                        <p>});</p>
                                    </code>
                            </div>
                            <li>Run <code>node index</code> in the terminal</li>
                            <div class="img-holder"><img src="./doc-image/exp-server.PNG" alt="">
                                <figcaption>Fig</figcaption>
                            </div>
                            <li>Congratulations you’ve designed a functional node.js server with Express. 🎉</li>
                        </ol>
                        <p id="exp-server-challenge">
                            Notice in the image above we are making use of <code>npm start</code>
                        </p>
                        <h4>💪💪Challenge💪💪</h4>
                        <p>Your challenge is as follows:</p>
                        <ol>
                            <li>Locate <b>“scripts”</b> in <code>package.json</code> </li>
                            <li>Modify <code>package.json</code> to have a <b>“start”</b> command as shown previously
                                in the earlier chapter of
                                this course.
                            </li>
                            <li>Ensure you start the server with <code>npm start</code>
                            </li>
                            <li>Push the code to a GitHub repo
                            </li>
                            <li>
                                Repo name should be <code>german-todo-app</code>
                            </li>
                            <li>
                                Good Luck. 🏆🏆
                            </li>
                        </ol>
                    </div>
                    <div id="express-routing">
                        <h1><i class="fa fa-link"></i>Routing (HTTP Request Methods) </h1>
                        <p>Routing refers to how an application resolves and responds to a client request at a
                            particular endpoint, which is a URI (or path) to a specific HTTP request method (GET, POST,
                            PUT, and so on).
                        </p>
                        <p>
                            A route can have mutiple handler functions, which are executed when the route is
                            matched.
                        </p>
                        <p>A typical express route:</p>
                        <div class="code-area">
                            <code>
                                app.<fnc>METHOD</fnc><const>(</const>URI, HANDLER<const>)</const>;
                            </code>
                        </div>
                        <p>Where:</p>
                        <ol>
                            <li><code>app</code> is an instance of express.</li>
                            <li><code>METHOD</code> is an HTTP request method (get, post, put, etc)</li>
                            <li><code>URI</code> is a path on the server. </li>
                            <li> <code>HANDLER</code> the executed behaviour of the route when it's matched.</li>
                        </ol>
                        <h4>💪💪Challenge💪💪</h4>
                        <p>We've written some basic routes in our previous codes.</p>
                        <ol>
                            <li>Identify the basic route</li>
                            <li>Add a simple comment above the code</li>
                            <li>Commit and push the added comments to the repo.</li>
                            <li>Good Luck 🏆🏆🏆</li>
                        </ol>
                        <p>Now, we understand what routes are, it's safe to add some routes to our <code>german-todo-app</code></p>
                        <ol>
                            <li>Create a <code>route</code> folder in the root directory</li>
                            <li>Create a <code>todo.js</code> file in the <code>route</code> folder</li>
                            <li>Add the following code to <code>todo.js</code></li>
                            <div class="code-area">
                                <code>
                                    <p><const>const</const> express = <fnc>require</fnc>(<string>'express'</string>);</p>
                                    <p><const>const</const> route = express.<fnc>Router</fnc>();</p>
                                    <p>route.<fnc>get</fnc>(<string>'/todo'</string>, <const>(</const>req, res, next<const>) =></const> {</p>
                                    <p class="inner">res.<fnc>json</fnc>(todo);</p>
                                    <p>});</p>
                                </code>
                            </div>
                        </ol>
                        <p>Running the code above will result to no change. First, we need to modify index.js.</p>
                        <p>Currently <code>index.js</code>:</p>
                        <ol type="i">
                            <div class="code-area">
                                <code>
                                    <p><const>const</const> express = <fnc>require</fnc>(<string>'epress'</string>);</p>
                                    <p><comment><i>//init express app</i></comment></p>
                                    <p><const>const</const> app = <fnc>express</fnc>();</p>
                                    <p><comment><i>//set a port</i></comment></p>
                                    <p><const>const</const> port = <num>4000</num>;</p>
                                    <p><comment><i>//set a hostname</i></comment></p>
                                    <p><const>const</const> hostname = <string>'127.0.0.1'</string>;</p>
                                    <p>app.<fnc>get</fnc>(<string>'/'</string>, <fnc>(</fnc>req, res <fnc>) => </fnc> {</p>
                                    <p class="inner">res.<fnc>send</fnc>(<string>'Hello World'</string>);</p>
                                    <p>});</p>
                                    <p>app.<fnc>listen</fnc>(port, <fnc>() => </fnc>{</p>
                                    <p class="inner"><props>console</props>.<fnc>log</fnc>(<string>`Server running at https://</string><temp>${</temp>hostname<temp>}</temp><string>:</string> <temp>${</temp>port<temp>}</temp><string>`</string>);</p>
                                    <p>});</p>
                                </code>
                            </div>
                            <li>Replace <code>app.get</code> with the code below:</li>
                            <div class="code-area"><code>
                                    <p>app.<fnc>use</fnc>(<string>'/'</string>, <fnc>require</fnc>(<string>'./routes/todo'</string>));</p>
                            </code></div>
                            <li>Hit save and restart the server with <code>npm start</code></li>
                            <li>Open the route in the browser <a href="http://127.0.0.1:4000/todo" target="_blank">http://127.0.0.1:4000/todo</a></li>
                            <li>Notice we have a <code>ReferenceError: todo is not defined</code></li>
                            <li>Let's create an array of todos in <code>todo.js</code></li>
                            <div class="code-area">
                                <code>
                                    <p>...</p>
                                    <p><const>const</const> todo = [{
                                       <p class="inner">id : <num>1</num>,</p>
                                       <p class="inner">task: <string>'CLeaning'</string></p>
                                       <p class="inner">time: <string>'10:00AM'</string></p>
                                       <p class="inner">done: <num>false</num></p>
                                    <p>}]</p>
                                    <p>...</p>
                                </code>
                            </div>
                        </ol>
                        <h4>💪💪Challenge💪💪</h4>
                        <ol type="i">
                            <li>Expand the todo array to have a minimum of <code>10 objects</code></li>
                            <li>Add sensible comments to the codebase</li>
                            <li>Commit and push changes to the repo</li>
                            <li>Good Luck 🏆🏆🏆🏆 </li>
                        </ol>
                    </div>
                    <div id="express-middleware">
                        <h1><i class="fa fa-link"></i>Middleware Functions</h1>
                        <p>We've successfully added some working codes, but we barely understand what's going on.
                            '🙄🤷‍🤦‍️' Happy it's working.😁😁
                        </p>
                        <p>Review the codes:</p>
                        <ol>
                            <li><code>app.use()</code></li>
                            <li><code>route.get('/', (req, res, next))</code></li>
                        </ol>
                        <p>All these to us now are jargons!</p>
                        <p>Understanding middlewares will give us a grasp on the codes. First, what's a <b>Middleware
                                Function?</b></p>
                        <p>
                            <i>Middleware Funcitons:</i> are functions that have access to the request
                            object (<code>req</code>), the response object(<code>res</code>), and the <code>next</code>
                            function <i>(in the application’s
                                request-response cycle)</i>.
                        </p>
                        <p>Middleware functions can perform the following task</p>
                        <ol type="i">
                            <li>Execute any code.
                            </li>
                            <li>Make changes to the request and the response objects.
                            </li>
                            <li>End the request-response cycle.
                            </li>
                            <li>Call the next middle in the stack.
                            </li>
                        </ol>
                        <div id="next-function">
                            <h3>The <code>next()</code> Function</h3>
                            <p>Is a function in the Express router which, when invoked, executes the
                                middleware succeeding the current middleware. </p>
                            <p>
                                If the current middleware function does not end a <code>request-response cycle</code>,
                                it
                                must call <code>next()</code>
                                to pass control to the next middleware function. Where this fails the request will be
                                left
                                hanging.
                            </p>

                            <p>With the defintions of <code>middleware functions</code> we now know <code>app.get</code>
                                is
                                a middleware function, because it has access to the <code>(req, res)</code> objects,
                                and
                                the <code>next</code> function.
                                <code>next</code> can be anything, but by convention <code>next</code> is commonly
                                used.
                            </p>
                            <p>A middeleware also acts as a bridge between an operating system or database and
                                applications, especially on a network. <code>app.use</code> is a bridge a between our
                                routes and the application.</p>
                            <p>Earlier, the routes were not exposed when we first created them in <code>todo.js</code>,
                                that's because we needed a brigde between the root app in the <code>index.js</code>
                                file
                                and our routes in
                                <code>todo.js</code> so, we implemented <code>app.use</code> and required our routes.</p>
                            <p>In other words, <code>app.use()</code> acts as a bridge between a middleware function
                                and
                                the application request-response cycle.</p>
                        </div>
                        <div id="more-routes">
                            <h1>Adding More Request</h1>
                            Let's add a <code>post, put, and delete</code> request. And some more middleware bridges in
                            the root app.
                            Install some dependencies before we proceed.
                            <ol>
                                <li>Run <code>npm i body-parser lodash</code></li>
                                <li>After a successful installation, modify the following codes:</li>
                                <li><code>require</code> dependencies</li>
                                <div class="code-area">
                                    <code>
                                        <p><const>const</const> express = <fnc>require</fnc>(<string>'express'</string>);</p>
                                        <p><const>const</const> _ = <fnc>require</fnc>(<string>'lodash'</string>);</p> 
                                        <p><const>const</const> route = express.<code>Router</code>();</p>
                                    </code>
                                </div>
                                <!-- todo/ GET -->
                                <li><code>GET /todo</code></li>
                                <div class="code-area">
                                    <code>
                                        <p>route.<fnc>get</fnc>(<string>'/todo'</string>, <fnc>(</fnc>req, res, next<fnc>) =></fnc> {</p>
                                            <p><comment><i>//</i></comment></p>
                                            <p class="indent-1">try{</p>
                                            <p class="indent-2">res<fnc>.json</fnc>(todo);</p>
                                            <p class="indent-1">}catch(err){</p>
                                            <p class="indent-3"><fnc>next</fnc>(err);</p>
                                            <p class="indent-1">}</p>
                                       <p>});</p>                                       
                                    </code>
                                </div>
                                <!-- todo/:id -->
                                <li><code>GET /todo/:id</code></li>
                                <div class="code-area">
                                    <code>
                                        <p>route.<fnc>get</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                            <p><comment><i>//</i></comment></p>
                                            <p class="indent-1">try{</p>
                                                <p class="indent-2"><const>const</const> todosById <fnc>= await  _.filter</fnc>(todo, {id : <fnc>parseInt</fnc>(req.params.id)});</p>
                                                <p class="indent-2"><fnc>if</fnc>(todosById.<string>length</string> <fnc><=</fnc> <num>1</num>){</p>
                                                    <p class="indent-1"><fnc> throw new Error</fnc>(<string>`Check id</string><temp>${</temp>req.params.id <temp>}</temp><string>`</string>)</p>
                                                    <p class="indent-2">}</p>
                                            <p class="indent-2">res<fnc>.json</fnc>(todo);</p>
                                            <p class="indent-1">}catch(err){</p>
                                            <p class="indent-3"><fnc>next</fnc>(err);</p>
                                            <p class="indent-2">}</p>
                                       <p>});</p>                                       
                                    </code>
                                </div>
                                <li><code>POST /todo</code></li>
                                <div class="code-area">
                                    <code>
                                        <p>route.<fnc>post</fnc>(<string>'/todo'</string>, <fnc>(</fnc>req, res, next<fnc>) =></fnc> {</p>
                                            <p><comment><i>//</i></comment></p>
                                            <p class="indent-1">try{</p>
                                                <p class="indent-2"><const>const</const> newTodo <fnc>= await  _.concat</fnc>(todo, req.body);</p>
                                                <p class="indent-2"><fnc>if</fnc>(!newTodo){</p>
                                                    <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Failed to add`</string>)</p>
                                                    <p class="indent-2">}</p>
                                            <p class="indent-2">res<fnc>.json</fnc>(newTodo);</p>
                                            <p class="indent-2">}catch(err){</p>
                                            <p class="indent-3"><fnc>next</fnc>(err);</p>
                                            <p class="indent-2">}</p>
                                       <p>});</p>                                       
                                    </code>
                                </div>
                                <li><code>PUT /todo/:id</code></li>
                                <div class="code-area">
                                    <code>
                                        <p>route.<fnc>put</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                            <p><comment><i>//</i></comment></p>
                                            <p class="indent-1">try{</p>
                                                <p class="indent-2"><const>const</const> todosById <fnc>= await _.findIndex</fnc>(todo, {id : <fnc>parseInt</fnc>(req.params.id)});</p>
                                                <p class="indent-2"><fnc>if</fnc>(index <fnc>===</fnc> <num>-1</num>){</p>
                                                    <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Invalid id: </string><temp>${</temp>req.params.id <temp>}</temp><string>`</string>)</p>
                                                    <p class="indent-2">}</p>
                                                    <p class="indent-2">todo[index] <num>=</num> req.body;</p>
                                            <p class="indent-2">res<fnc>.json</fnc>(todo);</p>

                                            <p class="indent-2">}catch(err){</p>
                                            <p class="indent-3"><fnc>next</fnc>(err);</p>
                                            <p class="indent-2">}</p>
                                       <p>});</p>                                       
                                    </code>
                                </div>
                                <li><code>DELETE /todo/:id</code></li>
                                <div class="code-area">
                                    <code>
                                        <p>route.<fnc>delete</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                            <p><comment><i>//</i></comment></p>
                                            <p class="indent-1">try{</p>
                                                <p class="indent-2"><fnc>await _.remove</fnc>(todo, {id : <fnc>parseInt</fnc>(req.params.id)});</p>
                                            <p class="indent-2">res<fnc>.json</fnc>(todo);</p>

                                            <p class="indent-2">}catch(err){</p>
                                            <p class="indent-3"><fnc>next</fnc>(err);</p>
                                            <p class="indent-2">}</p>
                                       <p>});</p>                                       
                                    </code>
                                </div>
                                <li><code>export module</code></li>
                                <div class="code-area"><code>
                                    <props>module.exports</props> <num>=</num> route;
                                </code></div>
                            </ol>
                        </div>
                        <div id="test-routes">
                            <h4>Testing Our Routes</h4>
                            <p>To check if all we've done works, we need one extra installation. PostMan, is highly
                                recommended for testing APIs, it ease testing out <code>post, put, and delete</code>request.</p>
                            <ol>
                                <li>Install PostMan</li>
                            </ol>
                            <p>The interface is quite easy to understand. You can read up the docs to help you get
                                started.
                                When you are a little bit comforatable with the docs, restart the server and test the
                                API we designed.</p>
                        </div>
                    </div>
                    <div id="middleware-and-handlers">
                        <h1><i class="fa fa-link"></i>Middleware Functions and Handlers</h1>
                        <p>With our knowledge of <i>Middleware Functions</i> building custom handlers, and middleware
                            functions will be piece of cake. The concept behind middleware functions, that you should
                            understand is Middleware Functions, are just function. Handlers, are functions designed to
                            perform a specific task. </p>
                        <p>Will be creating middleware functions with handlers to perform specific task e.g. Error
                            handling, Log handling, and etc.</p>
                        <p>The code below depicts a handler in a middleware function. </p>
                        <div class="code-area"><code>app.<fnc>use</fnc>(someHanlder)</code></div>
                    </div>
                    <div id="express-error-handling">
                        <h1><i class="fa fa-link"></i>Error Handling in Express</h1>
                        <p>This refers to how Express catches and processes errors that occurs both synchronously
                            and
                            asynchronously. </p>
                        <p>Express comes with a default error handler, that you don’t necessarily need to write
                            your own error handler to get started. The built-in error handler takes care of any
                            error that may occur in the application. This default error-handling middleware
                            function is added at the end of the middleware function stack. </p>
                        <p>Using the <code>next()</code> to pass errors, you may not any custom error handler.
                            Errors
                            will be handled by the built-in error-handler; the error will be written to the client
                            with the stack trace. </p>
                        <p>This stack trace are not included in productions, so even if a the <code>next()</code>
                            is
                            called with error after you’ve started writing the response (for example, if you
                            encounter an error while sending a response across to a client) the Express default
                            error handler closes the connection and fails the request AKA the application goes
                            bazooka! Crashes. </p>
                        <p>In this scenario, custom error handler becomes extremely important. We don’t want
                            applications going nuts in production. In a custom error handler, you must delegate to
                            the default Express error handler, when the errors have already been sent to the
                            client. </p>
                        <p>Like every we’ve written, has three (3) arguments. Defining error-handlers requires
                            four (4) argument instead of three(3) <code>(err, req, res, next)</code></p>
                        <p>Let’s add some code to our <code>index.js</code></p>
                        <div class="code-area">
                            <code>
                                        <p>....</p>
                                        <comment><i>//hanlder function</i></comment>
                                        <p>function <fnc>errorHandler(</fnc>err, req, res, next<fnc>){</fnc></p>
                                            <p class="inner-1"><props>console</props>.<fnc>error</fnc>(err.stack)</p>
                                            <p class="inner-1"> res.<const>status(<num>500</num>)</const>.<fnc>send</fnc>({</p>
                                                <p class="inner-2"><string>error : </string> err.message</p>
                                                <p class="inner-1">});</p>
                                                <p class="inner-1"><fnc>next</fnc>(err);</p>
                                        <p>}</p>
                                        <p><comment><i>//milddware function</i></comment></p>
                                        <p>app.<fnc>use</fnc>(errorHandler);</p>
                                        ......
                                    </code>
                        </div>
                        <p>Responses from within a middleware function can be in any format, such as an HTML error
                            page, a simple message, or a JSON string. </p>
                        <p>Note:</p>
                        <ol type="i">
                            <li>The default error handler can get triggered if you call <code>next()</code> with an
                                error in your code more than once, even if custom error handling middleware is in
                                place. </li>
                            <li>You define error-handling middleware last, after other <code>app.use()</code> and
                                routes calls.</li>
                        </ol>
                        <p>Try out your codes and ensure nothing is breaking or acting freaking funny.</p>
                    </div>
                    <div id="summary">
                        <h1><i class="fa fa-link"></i>Summary</h1>
                        <p>So far we've learnt a lot and have crossed from being a novice Node.js developer,
                            to a beginner who understands concept not just a coder. Know this, remembering the syntax
                            isn't really neccessary
                            but understanding the concept and what is, and who is? That's what makes you an awesome
                            developer.
                        </p>
                        <p>Before we dot our 'i' and cross out 't(s)'. Let's make the API we've designed
                            available for consumption.
                        </p>
                        <p>Follow the steps and further explanation will done later in this course.</p>
                        <ol>
                            <li><code>npm install cors</code></li>
                            <li>Modify <code>index.js</code> to have the following codes: </li>
                            <div class="code-area"><code>
                                <p>...</p>
                                <p><comment><i>//require dependencies</i></comment></p>
                                <p><const>const</const> cors = <fnc>require</fnc>(<string>'cors'</string>)</p>
                                <p><const>const</const> bodyParser = <fnc>require</fnc>(<string>'bodyParser'</string>)</p>
                                <p><comment><i>//cors options</i></comment></p>
                                <p><const>let</const> corsOptions <fnc>=</fnc> {</p>
                                    <p class="inner-1"><props>origin :</props> <string>"*"</string>,</p>
                                    <p class="inner-1"><props>optionSuccessStatus :</props> <num>200</num></p>
                                <p>}</p>
                                <p><comment><i>//cors middleware function</i></comment></p>
                                <p>app.<fnc>use</fnc>(<fnc>cors</fnc>(corsOptions));</p>
                                <p><comment><i>//json parser middleware function for [POST, PUT, DElETE] </i></comment></p>
                                <p>app.<fnc>use</fnc>(bodyParser.<fnc>json</fnc>());</p>
                                <p>app.<fnc>use</fnc>(express.<fnc>urlencoded</fnc>({<props>extended : <num>false</num></props>}));</p>
                                <p><comment><i>//errorHandler middleware function</i></comment></p>
                                <p>app.<fnc>use</fnc>(errorHandler);</p>
                                <p>....</p>
                            </code></div>
                        </ol>
                        <h4>🏋️‍🏋️‍Challenge🏋️‍🏋️‍</h4>
                        <p>Using <code>fetch API</code></p>
                        <ol>
                            <li>Design a static <code>HTML, CSS, JS</code> client side webpage</li>
                            <li>Use JavaScript <code>fetch api</code> to call the endpoints</li>
                            <ol type="i">
                                <li>Render the data from the API</li>
                                <li>Add todos to the API</li>
                                <li>Edit todos and also delete todos</li>
                            </ol>
                            <li>Ensure to add proper comments in the: <code>HTML, CSS, and JS</code> files.</li>
                            <li>Commit and push the codes to <code>german-todo-app</code> repo created earlier in this
                                course.</li>
                            <li>Good Luck 🏆🏆🏆🏆🏆</li>
                        </ol>

                    </div>
                    <!-- Express Ends Here -->
                    <!-- MongoDB Starts Here -->
                    <div id="mongodb-introduction">
                        <h1><i class="fa fa-link"></i>MongoDB NoSQL</h1>
                        <p>MongoDB is an open-source document database designed for ease of development and automatic
                            scaling with high performance, and high availability. </p>
                        <p>Document database may seem new and even more complex. Let’s get a quick run through of what
                            <i>Document Database</i> actually do before we go ahead installing things, we know nothing
                            about. </p>
                        <p>Nothing to worry! Document databases pairs each key with a complex data structure known as a
                            document. Documents can contain many different key-value pairs, or key-array pairs, or even
                            nested documents. Document database takes the structure of JSON, and something a lot
                            similar to object literals in JavaScript. </p>
                        <p>Document databases is also one of the types of NoSQL databases alongside Graph Stores,
                            Key-Value, and Wide-Columns. NoSQL Databases was developed in response to the demands
                            presented in building modern applications, encompassing a wide variety of different
                            database technologies.</p>
                        <p>Most of us with the PHP, .NET Framework background would be a lot familiar with MSSQL and
                            MySQL which are all relational databases. Relational databases were not designed with
                            modern applications in mind; taking advantage of the commodity storage and processing power
                            available today. </p>
                        <p>Let’s head over to installation and see how MongoDB is a lot simple to get started with and
                            add some codes to our previous to-do application. </p>
                    </div>
                    <div id="mongodb-installation">
                        <h1><i class="fa fa-link"></i>Installation</h1>
                        <p>Installing MongoDB is a lot more technical than installing Node. But if you are familiar
                            with certain configurations like: adding PATH to your environment then it will be piece of
                            cake. I would recommend heading over to MongoDB official installation <a href="https://docs.mongodb.com/manual/installatio">guide</a>
                            and make sure your installation is work properly on your machine before going ahead with
                            this course. </p>
                    </div>
                    <h4>🚧🚧Breakout Session Ahead ⏰⏰</h4>
                    <div id="mongodb-documents">
                        <h1> <i class="fa fa-link"></i> MongoDB Documents</h1>
                        <p>A record in MongoDB is a document, which is a data structure composed of field and value
                            pairs. AKA JSON objects. Typically, MongoDB documents are plain JSON objects. The
                            values of fields may include other documents, arrays, and arrays of documents. </p>
                        <div class="img-holder"><img src="./doc-image/crud-annotated-document_bakedsvg.png" alt=""></div>
                        <h2 class="underline">Advantages of Documents</h2>
                        <p>The advantages of using documents are:</p>
                        <ol>
                            <li>Documents (i.e. objects) correspond to native data types in many programming languages.</li>
                            <li>Embedded documents and arrays reduce need for expensive joins.</li>
                            <li>Dynamic schema supports fluent polymorphism</li>
                        </ol>
                        <h2 class="underline">Key Features</h2>
                        <h5>High Performance</h5>
                        <p>MongoDB provides high performance data persistence. In particular:</p>
                        <ol>
                            <li>Support for embedded data models reduces I/O activity on database system. </li>
                            <li>Indexes support faster queries and can include keys from embedded documents and arrays.</li>
                        </ol>
                        <h5>Rich Query Language</h5>
                        <p>MongoDB supports a rich query language to support read and write operations (CRUD) as well
                            as:</p>
                        <ol>
                            <li>Data Aggregation </li>
                            <li>Text Search and Geospatial Queries.</li>
                        </ol>
                        <h5>High Availability </h5>
                        <p>MongoDB’s replication facility, called replica set, provides </p>
                        <ol>
                            <li>Automatic failover and </li>
                            <li>Data redundancy. </li>
                        </ol>
                        <p>A replica set is a group of MongoDB servers that maintain the same data set, providing
                            redundancy and increasing data availability. </p>
                        <h5>Horizontal Scalability </h5>
                    </div>
                    <h4>🚖🚖</h4>
                    <div id="using-mongodb-mongoose">
                        <h1><i class="fa fa-link"></i> Using MongoDB and Mongoose (CRUD Operations)</h1>
                        <p>During the time of this course all CRUD (Create, Read, Update and Delete) operations will be
                            done using
                            Mongoose.
                        </p>
                        <p>Let's update our <code>german-todo-app</code> to have a database. 🎉🎉
                            By now we should have been able to setup our MongoDB environment and ready to build.</p>
                        <p>If that's done follow the steps below to add a database to the application:</p>
                        <ol>
                            <li>Start up the MonogoDB server</li>
                            <li>Start up Node.js Server for <code>german-todo-app</code></li>
                            <li>Run <code>npm install mongodb mongoose</code> in the terminal</li>
                            <li>Add the following code to <code>index.js</code></li>
                            <div class="code-area">
                                <code>
                                        <p>.....</p>
                                        <p><const>const</const> MongoClient = <fnc>require</fnc>(<string>'mongoose'</string>)</p>
                                        <p>....</p>
        
                                        <p>MongoClient.<fnc>connect</fnc>(dbURI, {</p>
                                            <p class="indent-1"><props>useNewUrlParser</props>: <num>true</num>,</p>
                                            <p class="indent-1"><props>useCreatIndex</props>: <num>true</num></p>
                                            <p>}, <fnc>(</fnc>err, db <fnc>) => </fnc>{</p>
                                                <p class="indent-1"><fnc>if</fnc>(err){</p>
                                                    <p class="indent-2"><props>console</props>.<fnc>log</fnc>(err);</p>
                                                <p class="indent-1">} <fnc>else</fnc> {</p>
                                                    <p class="indent-2"><props>console</props>.<fnc>log</fnc>(<string>`connected to <temp>${</temp></string> dbURI <string><temp>}</temp> Name : <temp>${</temp></string> db.Name<string><temp>}</temp></string>`);</p>
                                                    <p class="indent-1">}</p>
                                        <p>})</p>
                                        <p>.... </p>
                                    </code>
                            </div>
                            <p>Awesome!</p>
                            <li>Add the following code to <code>todo.js</code></li>
                            <div id="mongodb-routes">
                                <h1>Adding More Request</h1>
                                Let's add a <code>post, put, and delete</code> request. And some more middleware
                                bridges in
                                the root app.
                                Install some dependencies before we proceed.
                                <ol>
                                    <li>Run <code>npm i body-parser lodash</code></li>
                                    <li>After a successful installation, modify the following codes:</li>
                                    <li><code>require</code> dependencies</li>
                                    <div class="code-area">
                                        <code>
                                                    <p><const>const</const> {TodoModel} = <fnc>require</fnc>(<string>'../model/todo'</string>);</p>
                                                </code>
                                    </div>
                                    <!-- GET todo/ -->
                                    <li><code>GET /todo</code></li>
                                    <div class="code-area">
                                        <code>
                                                <p>route.<fnc>get</fnc>(<string>'/todo'</string>, <fnc>(</fnc>req, res, next<fnc>) =></fnc> {</p>
                                                    <p><comment><i>//</i></comment></p>
                                                    <p class="indent-1">try{</p>
                                                    <p class="indent-2"><const>const</const> todos <fnc>= await</fnc> TodoModel.<fnc>find</fnc>({});</p>
                                                    <p class="indent-2">res<fnc>.json</fnc>(todos);</p>
                                                    <p class="indent-1">}catch(err){</p>
                                                    <p class="indent-3"><fnc>next</fnc>(err);</p>
                                                    <p class="indent-1">}</p>
                                               <p>});</p>                                       
                                            </code>
                                    </div>
                                    <!-- GET todo/:id -->
                                    <li><code>GET /todo/:id</code></li>
                                    <div class="code-area">
                                        <code>
                                                <p>route.<fnc>get</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                                    <p><comment><i>//</i></comment></p>
                                                    <p class="indent-1">try{</p>
                                                        <p class="indent-2"><const>const</const> todosById <fnc>= await </fnc>TodoModel.<const>findOne</const>({id:<fnc>parseInt</fnc>(req.params.id)});</p>
                                                        <p class="indent-2"><fnc>if</fnc>(!todosById){</p>
                                                            <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Check id</string><temp>${</temp>req.params.id <temp>}</temp><string>`</string>)</p>
                                                            <p class="indent-2">}</p>
                                                    <p class="indent-2">res<fnc>.json</fnc>(todoById);</p>
                                                    <p class="indent-1">}catch(err){</p>
                                                    <p class="indent-2"><fnc>next</fnc>(err);</p>
                                                    <p class="indent-1">}</p>
                                               <p>});</p>                                       
                                            </code>
                                    </div>
                                    <!-- POST /todo -->
                                    <li><code>POST /todo</code></li>
                                    <div class="code-area">
                                        <code>
                                                <p>route.<fnc>post</fnc>(<string>'/todo'</string>, <fnc>(</fnc>req, res, next<fnc>) =></fnc> {</p>
                                                    <p><comment><i>//</i></comment></p>
                                                    <p class="indent-1">try{</p>
                                                        <p class="indent-2"><const>const</const> newTodo <fnc>= await </fnc>TodoModel.<const>create</const>(req.body);</p>
                                                        <p class="indent-2"><fnc>if</fnc>(!newTodo){</p>
                                                            <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Failed to add`</string>)</p>
                                                            <p class="indent-2">}</p>
                                                    <p class="indent-2">res<fnc>.json</fnc>(newTodo);</p>
                                                    <p class="indent-1">} catch(err){</p>
                                                    <p class="indent-2"><fnc>next</fnc>(err);</p>
                                                    <p class="indent-1">}</p>
                                               <p>});</p>                                       
                                            </code>
                                    </div>
                                    <!-- PUT /todo/:id -->
                                    <li><code>PUT /todo/:id</code></li>
                                    <div class="code-area">
                                        <code>
                                                <p>route.<fnc>put</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                                    <p><comment><i>//</i></comment></p>
                                                    <p class="indent-1">try{</p>
                                                        <p class="indent-2"><const>const</const> toUpate <fnc>= await </fnc>TodoModel.<const>findOneAndUpdate</const>({id:<fnc>parseInt</fnc>(req.params.id)}, req.body);</p>
                                                        <p class="indent-2"><fnc>if</fnc>(!toupdate){</p>
                                                            <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Invalid id: </string><temp>${</temp>req.params.id <temp>}</temp><string>`</string>)</p>
                                                            <p class="indent-2">}</p>
                                                            <p class="indent-2"><const>const</const> updated <fnc>= await </fnc>TodoModel.<const>findOne</const>({id: toUpate.id
                                                            });</p>

                                                    <p class="indent-2">res<fnc>.json</fnc>(updated);</p>
        
                                                    <p class="indent-1">}catch(err){</p>
                                                    <p class="indent-2"><fnc>next</fnc>(err);</p>
                                                    <p class="indent-1">}</p>
                                               <p>});</p>                                       
                                            </code>
                                    </div>
                                    <li><code>DELETE /todo/:id</code></li>
                                    <div class="code-area">
                                        <code>
                                            <p>route.<fnc>delete</fnc>(<string>'/todo/:id'</string>, <fnc>async (</fnc>req, res, next<fnc>) =></fnc> {</p>
                                                <p><comment><i>//</i></comment></p>
                                                <p class="indent-1">try{</p>
                                                    <p class="indent-1"><const>const</const> toDelete <fnc>= await </fnc>TodoModel.<const>findOneAndDelete</const>({id:<fnc>parseInt</fnc>(req.params.id)});</p> 
                                                    <p class="indent-2"><fnc>if</fnc>(!toDelete){</p>
                                                        <p class="indent-3"><fnc> throw new Error</fnc>(<string>`Invalid id: </string><temp>${</temp>req.params.id <temp>}</temp><string>`</string>)</p>
                                                        <p class="indent-2">}</p>
                                                    <p class="indent-2">res<fnc>.json</fnc>(toDelete);</p>
                                                    <p class="indent-1">}catch(err){</p>
                                                    <p class="indent-2"><fnc>next</fnc>(err);</p>
                                                    <p class="indent-1">}</p>
                                               <p>});</p>                                       
                                            </code>
                                    </div>
                                    <li><code>export module</code></li>
                                    <div class="code-area"><code>
                                            <props>module.exports</props> <num>=</num> route;
                                        </code></div>
                                </ol>
                            </div>
                        </ol>
                    </div>
                    <div id="mongoose-schemas">
                        <p>So far, we’ve added bunch of not working codes that practically destroys all the work
                            and effort we’ve invested over the last chapters. 🤦‍</p>
                        <h5>Let’s fix that ⛏🛠: </h5>
                        <p>To do that we need to understand some concepts and how a database is probably created, and
                            how tables, row, and columns are been defined. In MongoDB, we can say: how the collections,
                            fields, and documents are defined. </p>
                        <p>Earlier, we understood that MongoDB documents database takes a JSON format; but we are yet
                            to see in action. Schemas, SchemaTypes, and Queries are the building blocks to achieving
                            that.</p>
                        <div id="mongoose-schema">
                            <h1><i class="fa fa-link"></i> Schemas</h1>
                            <p><code>Mongoose</code> dependency that was installed earlier; and everything in Mongoose
                                starts with a Schema. A schema is a representation of a plain or theory in the form of
                                an outline or model. Schemas maps to a MongoDB collection and defines the shape of the
                                documents within that collection i.e. one schema to one MongoDB collection. </p>
                            <p>
                                For those familiar with some other databases like MSSQL, and MYSQL; Schema are much
                                more like defining a table, defining each field, and assigning specific data types. The
                                awesomeness about using MongoDB and Mongoose are schemas. The definition system is a
                                lot like JSON.
                            </p>
                            <div class="code-area" id="code-schema-definition">
                                <code>
                                        <p>...</p>
                                        <p><const>const</const> TodoSchema = <fnc>new</fnc> <const>Schema</const>({
                                           <p class="inner">id:  {</p>
                                            <p class="indent-2"> type : <string>String,</string></p>
                                            <p class="indent-2"> unique : <num>true</num></p>
                                            <p class="inner">},</p>
                                           <p class="inner">task:  {</p>
                                            <p class="indent-2"> type : <string>String,</string></p>
                                            <p class="indent-2"> required : <num>true</num></p>
                                            <p class="inner">},</p>
                                           <p class="inner">addDate:  {</p>
                                            <p class="indent-2"> type : <string>Date,</string></p>
                                            <p class="indent-2"> default : <string>Date</string>.<fnc>now</fnc>()</p>
                                            <p class="inner">}</p>
                                        <p>});</p>
                                        <p>...</p>
                                    </code>
                            </div>
                            <p>The above code depicts a typical Schema definition. Schemas not only define the
                                structure of your structure and casting of properties, the also define document
                                instance methods, stat Model methods, compound indexes and document lifecycle hooks
                                called middleware. </p>
                        </div>
                        <div id="mongoose-schema-types">
                            <h1><i class="fa fa-link"></i>SchemaTypes</h1>
                            <p>
                                SchemaTypes handle definition to path defaults, validation getters, setters,
                                field delection defaults, for queries, and other general characteristics of Mongoose
                                document properties.
                            </p>
                            <p>You can think of a Mongoose schema as the configuration object for Mongoose model. A
                                SchemaType is then configuration object for an individual property. A SchemaType says
                                what type a given path shoulf have, whether it has any getters/setters, and what values
                                are valid for that path. </p>
                            <div id="valid-schema-types">
                                <h2>Valid Schema Types:</h2>
                                <ul class="dots-li">
                                    <code>
                                        <li>String</li>
                                        <li>Buffer</li>
                                        <li>Boolean</li>
                                        <li>Date</li>
                                        <li>Number</li>
                                        <li>Schema.Types.Mixed</li>
                                        <li>Schema.Types.ObjectId</li>
                                        <li>Schema.Types.Decimalsl128</li>
                                        <li>[]</li>
                                        <li>[String]</li>
                                        <li>[Number]</li>
                                        <li>[Date]</li>
                                        <li>[Buffer]</li>
                                        <li>[Boolean]</li>
                                        <li>[Schema.Types.Mixed]</li>
                                        <li>[Schema.Types.ObjectId]</li>
                                        <li>[[]]</li>
                                        <li>[[Number]]</li>
                                        <li>{}</li>
                                        <li>Map</li>
                                    </code>
                                </ul>
                            </div>
                            <div id="schema-type-options">
                                <h2>Schema Type Options</h2>
                                <p>You can declare a schema type using the type directly, or an object with
                                    a <code>type</code> property as seen in the above <a href="#code-schema-definition">code.</a>
                                </p>
                                <h5>Schema Types <code>options</code></h5>
                                <ul class="dots-li">
                                    <li><code>required:</code> boolean or function, if truw adds a required validatior
                                        for this property.</li>
                                    <li><code>default:</code> Any or function, sets a default value for the path. If
                                        the value is a function, the return value of
                                        the function is used as default.</li>
                                    <li><code>select:</code>boolean, specifies defautl projections for queries.</li>
                                    <li><code>validate:</code>function, adds a valiator function for this property</li>
                                    <li><code>get:</code> function defines a custom getter for this property using
                                        Object.defineProperty()</li>
                                    <li><code>set:</code> function defines a custom setter for this property using
                                        Object.defineProperty()</li>
                                    <li><code>alias:</code> string, mongoose >= 4.1.0.0 only. Defines a virtual with
                                        the given name that gets/sets this path.</li>
                                    <li><code>index:</code> boolean, wherther to an index on this property.</li>
                                    <li><code>unique:</code> boolean, whether to define a unique index on this
                                        property.</li>
                                    <li><code>sparse:</code> boolean, whether to define a sparse index on this
                                        property. </li>
                                    Read More on Schema Types Options <a href="https://mongoosejs.com/docs/schematypes.html">Here</a>.
                                </ul>
                            </div>
                            <h4>💪💪Challenge💪💪</h4>
                            <p>Let's try out our knowledge so far. We will be creating some models for our application.
                                First, complete the challenge.</p>
                            <ol type="i">
                                <li>Create a folder in the root directory <code>./model</code></li>
                                <li>Create a file with in the <code>./model/todo.model.js</code></li>
                                <li>Copy the following code <a href="#code-schema-definition">here</a> into the file
                                    you just created</li>
                                <li>Add apporiate comments to your code</li>
                                <li>Commit and push your code to the repo <code>german-todo-app</code></li>
                                <li>Good Luck 🏆🏆🏆🏆🏆🏆</li>
                            </ol>
                        </div>
                        <div id="mongoose-models">
                            <h1><i class="fa fa-link"></i>Mongoose Models</h1>
                            <p>Models are fancy constructors complied from <code>Schema</code> definitions. An instance
                                of model is called a document.
                                Models are responsibke for creating and readign documents from the underlying MongoDB
                                database.</p>
                            <p>Compling schema are quite easy</p>
                            <div class="code-area"><code>
                                <p><const>const</const> TodoModel <fnc>=</fnc> mongoose.<const>model</const>(<string>"todo"</string>, TodoSchema);</p>
                            </code></div>
                            <p>A model can become available for use within your application after it's been exported as
                                a module.
                                Exporting a module can be done in serval ways but we'll be exporting this way for now,
                                and the during the time of this course we'll learn more ways to export modules.</p>
                            <div class="code-area" id="code-export-models"><code>
                                        <p><props>export</props>.TodoModel <fnc>=</fnc> mongoose.<const>model</const>(<string>"todo"</string>, TodoSchema);</p>
                                    </code></div>
                            <p>The first argument is the singular name of the collection the model is for. Mongoose
                                will automatically look for the plural version of the model name</p>
                            <p>Thus, for the code above, the model <code>Todo</code> is for the <code>todos </code>
                                collection in the database. </p>
                            <p>The <code>.model()</code> function makes a copy of <code>schema</code>. Ensure that
                                you’ve added everything you want to the <code>schema</code> before calling <code>.model()</code>.
                                It’s usually a good practice to keep the calling <code>.model()</code> at the bottom of
                                the code. </p>
                            <h4>💪💪Challenge💪💪</h4>
                            <p>Let's update our codes and kick out the errors.</p>
                            <ol type="i">
                                <li>Open up <code>./model/index.js</code></li>
                                <li>Require <code>mongoose</code> at the top of tthe file.</li>
                                <li>Require <code>{Schema}</code> from the <code>mongoose</code> reference</li>
                                <li>Add this <a href="#code-export-model">code</a> to the bottom of the file.</li>
                                <li>Start the <code>MongoDB Server</code></li>
                                <li>Start <code>Node.js Server</code></li>
                                <p>A this point you shouldn't have any error trying your API with <a href="http://">Postman</a></p>
                                <li>Good Luck! 🏆🏆🏆🏆🏆🏆🏆</li>
                            </ol>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->

    <script src="../assets/js/vendor/jquery-1.11.2.min.js"></script>
    <script src="../assets/js/vendor/bootstrap.min.js"></script>
    <script src="./js/toggle.js"></script>
</body>

</html>